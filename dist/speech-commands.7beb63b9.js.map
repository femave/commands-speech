{"version":3,"sources":["commands.ts","speech.ts","index.ts"],"names":[],"mappings":";AAAA,aAAA,IAAA,EAAA,KAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QACI,CACuB,gBAAA,UACP,SAAA,CACA,KAAA,WAAQ,QAAQ,IAAI,+CACR,mBAAA,WAAM,OAAA,QAAQ,IAAI,OAAO,KAAK,EAAK,QAAQ,UAAU,IAAI,SAAA,GAAO,OAAA;;ACMnF,aAAA,IAAA,EAAA,MAAA,KAAA,UAAA,WAAA,OAAA,EAAA,OAAA,QAAA,SAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,UAAA,OAAA,EAAA,EAAA,IAAA,IAAA,IAAA,KAAA,EAAA,UAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,KAAA,EAAA,GAAA,EAAA,IAAA,OAAA,IAAA,MAAA,KAAA,YAAA,EAAA,MAAA,KAAA,iBAAA,SAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,IAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAXb,OAAO,kBAAoB,OAAO,yBAA2B,OAAO,kBACpE,IAAA,EAAA,EAAA,QAAA,eAUA,EAAA,WAYI,SAAA,EAAY,GAVJ,KAAA,aAAe,IAAI,OAAO,kBAC1B,KAAA,OAAgB,CACpB,QAAQ,GAGJ,KAAA,QAAkB,CACtB,YAAY,EACZ,KAAM,SAID,KAAA,aAAa,gBAAiB,EAC9B,KAAA,aAAa,gBAAkB,GAC/B,KAAA,aAAa,YAAa,EAC1B,KAAA,aAAa,KAAO,QACpB,KAAA,QAAO,EAAA,EAAA,GAAQ,KAAK,SAAY,GAiD7C,OA9CI,EAAA,UAAA,MAAA,WACS,KAAA,aAAa,QACb,KAAA,SAAS,CAAE,QAAQ,IACnB,KAAA,aAGT,EAAA,UAAA,KAAA,WACS,KAAA,SAAS,CAAE,QAAQ,IACnB,KAAA,aAAa,QAGd,EAAA,UAAA,SAAR,SAAiB,GACR,KAAA,OAAS,GAGV,EAAA,UAAA,SAAR,WACW,OAAA,KAAK,QAGR,EAAA,UAAA,UAAR,WAAA,IAAA,EAAA,KACS,KAAA,aAAa,SAAW,SAAA,GACpB,IAAA,IAAI,EAAI,EAAM,YAAa,EAAM,EAAM,QAAQ,OAAQ,EAAI,EAAK,IACjE,EAAK,eAAe,EAAM,QAAQ,GAAG,GAAG,WAAW,OAAO,iBAKtE,OAAA,eAAI,EAAA,UAAA,eAAY,CAAhB,IAAA,WACW,OAAA,EAAA,QAAS,UADJ,YAAA,EA/CP,cAAA,IAmDD,EAAA,UAAA,eAAR,SAAuB,GACb,IAAA,EAAW,KAAK,aACjB,KAAA,IAAI,qBAAqB,GAC1B,EAAS,GACT,EAAS,KAEJ,KAAA,IAAI,0BAIT,EAAA,UAAA,IAAR,SAAY,GACJ,KAAK,QAAQ,YACb,QAAQ,IAAI,IAGxB,EAlEA,GAAa,QAAA,OAAA;;ACHZ,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IARD,IAAA,EAAA,QAAA,YAEM,EAAW,SAAS,eAAe,YAGzC,SAAS,KACU,IAAI,EAAA,QACZ,QAJX,EAAS,iBAAiB,QAAS","file":"speech-commands.7beb63b9.js","sourceRoot":"..","sourcesContent":["export default\r\n    {\r\n        \"starter_command\": \"comando\",\r\n        \"commands\": {\r\n            \"marc\": () => { console.log('Marc is the creator of web speech commands') },\r\n            \"list of commands\": () => console.log(Object.keys(this.default.commands).map(key => key))\r\n        }\r\n    }","window.SpeechRecognition = window.webkitSpeechRecognition || window.SpeechRecognition;\r\nimport commands from './commands';\r\n\r\ninterface State {\r\n    isStop: boolean;\r\n}\r\ninterface Config {\r\n    showSpeech?: boolean,\r\n    lang?: string\r\n}\r\n\r\nexport class Speech {\r\n\r\n    private _recognition = new window.SpeechRecognition();\r\n    private _state: State = {\r\n        isStop: true\r\n    }\r\n\r\n    private _config: Config = {\r\n        showSpeech: false,\r\n        lang: 'en-EN'\r\n    }\r\n\r\n    constructor(config?: Config) {\r\n        this._recognition.interimResults = false;\r\n        this._recognition.maxAlternatives = 10;\r\n        this._recognition.continuous = true;\r\n        this._recognition.lang = 'es-ES';\r\n        this._config = { ...this._config, ...config };\r\n    }\r\n\r\n    start(): void {\r\n        this._recognition.start();\r\n        this.setState({ isStop: false });\r\n        this.listening();\r\n    };\r\n\r\n    stop(): void {\r\n        this.setState({ isStop: true });\r\n        this._recognition.stop();\r\n    };\r\n\r\n    private setState(newState) {\r\n        this._state = newState;\r\n    }\r\n\r\n    private getState() {\r\n        return this._state;\r\n    }\r\n\r\n    private listening() {\r\n        this._recognition.onresult = event => {\r\n            for (let i = event.resultIndex, len = event.results.length; i < len; i++) {\r\n                this.executeCommand(event.results[i][0].transcript.trim().toLowerCase());\r\n            }\r\n        }\r\n    }\r\n\r\n    get loadCommands() {\r\n        return commands.commands;\r\n    };\r\n\r\n    private executeCommand(command: string): void {\r\n        const commands = this.loadCommands;\r\n        this.log(`Command used ==>  ${command}`);\r\n        if (commands[command]) {\r\n            commands[command]();\r\n        } else {\r\n            this.log(`No commands available`);\r\n        }\r\n    };\r\n\r\n    private log(text: string) {\r\n        if (this._config.showSpeech) {\r\n            console.log(text)\r\n        }\r\n    }\r\n}","import { Speech } from './speech';\r\n\r\nconst startBtn = document.getElementById('startBtn');\r\nstartBtn.addEventListener('click', start)\r\n\r\nfunction start() {\r\n    const speech = new Speech();\r\n    speech.start();\r\n}"]}